<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Offres Telco</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f9f9f9; }
    h1 { text-align: center; }
    .filters { display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem; justify-content: center; }
    .offre { border: 1px solid #ccc; background: white; padding: 1rem; margin-bottom: 1rem; border-radius: 8px; }
    .offre h2 { margin: 0 0 0.5rem 0; font-size: 1.2em; }
    .offre table { width: 100%; border-collapse: collapse; }
    .offre td { padding: 4px 8px; vertical-align: top; }
    .offre tr:nth-child(odd) { background: #f2f2f2; }
    .offre .points { font-weight: bold; color: #007bff; }
    .hidden { display: none; }
    .checkboxes { display: flex; flex-direction: column; max-height: 200px; overflow-y: auto; }
    .slider-container { display: flex; flex-direction: column; align-items: center; margin: 1rem; }
    .slider-container label { margin-bottom: 0.3rem; }
    .intro {
      max-width: 800px;
      margin: 0 auto 1rem;
      background: #fff;
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid #ddd;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Offres Internet Telco</h1>
  <div class="intro">
    <p>
      Retrouvez ici l'ensemble des offres disponibles. Vous pouvez filtrer par type de connexion, opérateur ou nom d'offre.
      <br><strong>Important :</strong> Chaque vente d'offre donne droit à un nombre de points tel qu'indiqué. Ces points sont utilisés pour le calcul de vos primes.
    </p>
  </div>
  <div class="filters">
    <select id="type-filter">
      <option value="">Tous types</option>
      <option value="ADSL">ADSL</option>
      <option value="Fibre">Fibre</option>
    </select>
    <div class="checkboxes" id="operateur-checkboxes">
      <label><input type="checkbox" value="SFR" checked> SFR</label>
      <label><input type="checkbox" value="BYG" checked> Bouygues</label>
      <label><input type="checkbox" value="Orange" checked> Orange</label>
      <label><input type="checkbox" value="Free" checked> Free</label>
    </div>
    <input type="text" id="search-input" placeholder="Rechercher une offre..." />
  </div>
  <div class="filters">
    <div class="slider-container">
      <label for="prix-slider">Prix maximum (€)</label>
      <input type="range" id="prix-slider" min="0" max="60" step="1" value="60" />
      <span id="prix-val">60</span>
    </div>
    <div class="slider-container">
      <label for="points-slider">Points minimum</label>
      <input type="range" id="points-slider" min="0" max="1" step="0.1" value="0" />
      <span id="points-val">0</span>
    </div>
  </div>
  <div class="filters">
    <div class="checkboxes" id="checkbox-container"></div>
  </div>
  <div id="offres-container"></div>

  <script>
    const offres = [
      { nom: "SFR PREMIUM", type: "Fibre", operateur: "SFR", points: 0.70, prix: 33.99,
        description: "Engagement : 12 mois\nVitesse : Fibre jusqu'à 1 Gb/s\nTV : 160 chaînes TV\nAppels : vers les fixes\nFrais ouverture : 49€ offerts\nFrais résiliation : NC\nAvantages : Premium" },
      { nom: "SFR POWER", type: "Fibre", operateur: "SFR", points: 0.60, prix: 29.99,
        description: "Engagement : 12 mois\nVitesse : Fibre jusqu'à 1 Gb/s\nTV : 160 chaînes TV\nAppels : vers les fixes\nFrais ouverture : 49€ offerts\nFrais résiliation : NC\nAvantages : ---" },
      {  nom: "Orange Livebox",  type: "Fibre",  operateur: "Orange",  points: 0.40,  prix: 29.99,  
       description: `Série spéciale sans bouquet TV ni décodeur. Internet en fibre jusqu'à 1 Gb/s, téléphonie fixe incluse. Orange rembourse jusqu'à 150€ de frais de résiliation. Conditions : Durée d'engagement : 12 mois Frais d'activation : 49€ Frais de résiliation : 50€ Internet : Fibre 1 Gb/s (700 Mb/s en transfert) Téléphonie : Appels illimités vers les fixes
Box : Livebox 5`}
      { nom: "BYG Bbox must", type: "Fibre", operateur: "BYG", points: 0.50, prix: 42.99,
        description: "Engagement : 12 mois\nVitesse : Fibre jusqu'à 2 Gb/s\nTV : 180 chaînes TV\nAppels : fixes et mobiles\nFrais ouverture : inclus\nFrais résiliation : NC\nAvantages : Wi-Fi 6" },
      { nom: "Freebox pop", type: "Fibre", operateur: "Free", points: 0.30, prix: 29.99,
        description: "Engagement : sans engagement\nVitesse : Fibre jusqu'à 5 Gb/s\nTV : 280 chaînes TV\nAppels : fixes et mobiles\nFrais ouverture : inclus\nFrais résiliation : NC\nAvantages : Canal+, Disney+ 3 mois" },
      { nom: "Box RED + TV", type: "Fibre", operateur: "SFR", points: 0.40, prix: 27.99,
        description: "Engagement : sans engagement\nVitesse : Fibre jusqu'à 1 Gb/s\nTV : 35 chaînes TV\nAppels : fixes et mobiles\nFrais ouverture : 39€ offerts\nFrais résiliation : NC\nAvantages : ---" },
      { nom: "SFR PREMIUM ADSL", type: "ADSL", operateur: "SFR", points: 0.50, prix: 22.99,
        description: "Engagement : 12 mois\nVitesse : ADSL jusqu'à 20 Mb/s\nTV : 100 chaînes TV\nAppels : fixes\nFrais ouverture : 29€ offerts\nFrais résiliation : NC\nAvantages : Premium" },
      { nom: "SFR POWER ADSL", type: "ADSL", operateur: "SFR", points: 0.45, prix: 19.99,
        description: "Engagement : 12 mois\nVitesse : ADSL jusqu'à 20 Mb/s\nTV : 100 chaînes TV\nAppels : fixes\nFrais ouverture : 29€ offerts\nFrais résiliation : NC\nAvantages : ---" },
      { nom: "BYG Bbox must ADSL", type: "ADSL", operateur: "BYG", points: 0.40, prix: 24.99,
        description: "Engagement : 12 mois\nVitesse : ADSL jusqu'à 15 Mb/s\nTV : 120 chaînes TV\nAppels : fixes et mobiles\nFrais ouverture : inclus\nFrais résiliation : NC\nAvantages : Wi-Fi 5" },
      { nom: "BYG Bbox Ultym ADSL", type: "ADSL", operateur: "BYG", points: 0.55, prix: 29.99,
        description: "Engagement : 12 mois\nVitesse : ADSL jusqu'à 20 Mb/s\nTV : 200 chaînes TV\nAppels : fixes et mobiles\nFrais ouverture : inclus\nFrais résiliation : NC\nAvantages : Wi-Fi 6" },
      { nom: "SFR Déménagement ADSL", type: "ADSL", operateur: "SFR", points: 0.35, prix: 21.99,
        description: "Engagement : 12 mois\nVitesse : ADSL jusqu'à 20 Mb/s\nTV : 100 chaînes TV\nAppels : fixes\nFrais ouverture : 39€ offerts\nFrais résiliation : NC\nAvantages : ---" },
      { nom: "Orange livebox opt° ADSL", type: "ADSL", operateur: "Orange", points: 0.45, prix: 23.99,
        description: "Engagement : 12 mois\nVitesse : ADSL jusqu'à 20 Mb/s\nTV : 140 chaînes TV\nAppels : fixes\nFrais ouverture : 49€ offerts\nFrais résiliation : NC\nAvantages : ---" },
      { nom: "Orange livebox up ADSL", type: "ADSL", operateur: "Orange", points: 0.50, prix: 25.99,
        description: "Engagement : 12 mois\nVitesse : ADSL jusqu'à 20 Mb/s\nTV : 160 chaînes TV\nAppels : fixes\nFrais ouverture : 49€ offerts\nFrais résiliation : NC\nAvantages : ---" },
      { nom: "SFR Box ADSL", type: "ADSL", operateur: "SFR", points: 0.48, prix: 24.99,
        description: "Engagement : 12 mois\nVitesse : ADSL jusqu'à 20 Mb/s\nTV : 120 chaînes TV\nAppels : fixes\nFrais ouverture : 39€ offerts\nFrais résiliation : NC\nAvantages : ---" },
      { nom: "SFR fibre 8 ADSL", type: "ADSL", operateur: "SFR", points: 0.52, prix: 27.99,
        description: "Engagement : 12 mois\nVitesse : ADSL jusqu'à 20 Mb/s\nTV : 150 chaînes TV\nAppels : fixes\nFrais ouverture : 39€ offerts\nFrais résiliation : NC\nAvantages : ---" },
      { nom: "SFR THD ADSL", type: "ADSL", operateur: "SFR", points: 0.55, prix: 28.99,
        description: "Engagement : 12 mois\nVitesse : ADSL jusqu'à 20 Mb/s\nTV : 180 chaînes TV\nAppels : fixes\nFrais ouverture : 29€ offerts\nFrais résiliation : NC\nAvantages : ---" },
      { nom: "Orange livebox ADSL", type: "ADSL", operateur: "Orange", points: 0.40, prix: 22.99,
        description: "Engagement : 12 mois\nVitesse : ADSL jusqu'à 20 Mb/s\nTV : 130 chaînes TV\nAppels : fixes\nFrais ouverture : 49€ offerts\nFrais résiliation : NC\nAvantages : ---" }
    ];

    const container = document.getElementById("offres-container");
    const typeFilter = document.getElementById("type-filter");
    const searchInput = document.getElementById("search-input");
    const checkboxContainer = document.getElementById("checkbox-container");
    const operateurCheckboxes = document.getElementById("operateur-checkboxes");
    const prixSlider = document.getElementById("prix-slider");
    const prixVal = document.getElementById("prix-val");
    const pointsSlider = document.getElementById("points-slider");
    const pointsVal = document.getElementById("points-val");

    offres.forEach(offre => {
      const label = document.createElement("label");
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.value = offre.nom;
      checkbox.checked = true;
      label.appendChild(checkbox);
      label.appendChild(document.createTextNode(" " + offre.nom));
      checkboxContainer.appendChild(label);
    });

    function displayOffres() {
      const type = typeFilter.value.toLowerCase();
      const search = searchInput.value.toLowerCase();
      const checkedOffers = Array.from(checkboxContainer.querySelectorAll('input[type="checkbox"]:checked')).map(cb => cb.value);
      const selectedOperateurs = Array.from(operateurCheckboxes.querySelectorAll('input[type="checkbox"]:checked')).map(cb => cb.value);
      const maxPrix = parseFloat(prixSlider.value);
      const minPoints = parseFloat(pointsSlider.value);

      prixVal.textContent = maxPrix;
      pointsVal.textContent = minPoints;

      container.innerHTML = "";
      const sortedOffres = offres.filter(offre => {
        return (
          (!type || offre.type.toLowerCase().includes(type)) &&
          (!search || offre.nom.toLowerCase().includes(search)) &&
          checkedOffers.includes(offre.nom) &&
          selectedOperateurs.includes(offre.operateur) &&
          offre.prix <= maxPrix &&
          offre.points >= minPoints
        );
      }).sort((a, b) => b.points - a.points);

      sortedOffres.forEach(offre => {
        const div = document.createElement("div");
        div.className = "offre";
        const lines = offre.description.split("\n");
        div.innerHTML = `<h2>${offre.nom}</h2>
        <table>
          <tr><td><strong>Points</strong></td><td>${offre.points}</td><td><strong>Prix</strong></td><td>${offre.prix} €</td><td>${lines[0]}</td></tr>
          <tr><td>${lines[1]}</td><td>${lines[2]}</td><td>${lines[3]}</td></tr>
          <tr><td>${lines[4]}</td><td>${lines[5]}</td><td>${lines[6]}</td></tr>
        </table>`;
        container.appendChild(div);
      });
    }

    typeFilter.addEventListener("change", displayOffres);
    searchInput.addEventListener("input", displayOffres);
    checkboxContainer.addEventListener("change", displayOffres);
    operateurCheckboxes.addEventListener("change", displayOffres);
    prixSlider.addEventListener("input", displayOffres);
    pointsSlider.addEventListener("input", displayOffres);

    displayOffres();
  </script>
</body>
</html>
